{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/examiner/examiner.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;ACgBA,IAAI,sBAAsB,CAAC,IAAI,CAAC,EAAE;AAChC,iBAAe,CAAC,IAAI,CAAC,CAAC;CACvB;;AAED,SAAS,eAAe,CAAC,GAAG,EAAE;AAC5B,MAAM,QAAQ,GAAG,IAAI,GAAG,CAAC,mBAAmB,CAAC,UAAS,SAAS,EAAE;AAC/D,QAAM,OAAO,GAAG,SAAS,CAAC,UAAU,EAAE,CAAC;AACvC,SAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACvC,UAAI,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,IAAI,UAAU,IAC/B,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,yBAAyB,EAAE;AACnD,iBAAS;OACV;AACD,UAAM,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;AACvC,UAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;AAC/B,iBAAS;OACV;;AAED,UAAM,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;AACrC,UAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC;AAChC,UAAI,IAAI,CAAC,aAAa,EAAE;AACtB,YAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC;AAC5D,YAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACpB,iBAAO,sBAAoB,KAAK,CAAC,CAAC,CAAC,OAAI,CAAC;SACzC;OACF;AACD,aAAO,QAAO,GAAG,sBACM,QAAQ,gBAAW,OAAO,EAC7C,+BAA+B,EAC/B,+BAA+B,CAClC,CAAC;KACH;GACF,CAAC,CAAC;AACH,UAAQ,CAAC,OAAO,CAAC,EAAC,UAAU,EAAE,CAAC,UAAU,CAAC,EAAC,CAAC,CAAC;CAC9C;;AAED,SAAS,sBAAsB,CAAC,GAAG,EAAE;AACnC,SAAO,CAAC,CAAC,GAAG,CAAC,mBAAmB,IACzB,CAAC,CAAC,GAAG,CAAC,qBAAqB,IAC1B,eAAe,IAAI,GAAG,CAAC,qBAAqB,CAAC,SAAS,AAAC,CAAC;CACjE","file":"examiner.max.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * Copyright 2017 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nif (isLongTaskApiSupported(self)) {\n  detectLongTasks(self);\n}\n\nfunction detectLongTasks(win) {\n  const observer = new win.PerformanceObserver(function(entryList) {\n    const entries = entryList.getEntries();\n    for (let i = 0; i < entries.length; i++) {\n      if (entries[i].entryType != 'longtask'\n          || entries[i].name != 'cross-origin-descendant') {\n        continue;\n      }\n      const attr = entries[i].attribution[0];\n      if (!attr || !attr.containerSrc) {\n        continue;\n      }\n\n      const duration = entries[i].duration;\n      let culprit = attr.containerSrc;\n      if (attr.containerName) {\n        const match = attr.containerName.match(/\"type\":\"([^\\\"]*)\"/);\n        if (match.length > 1) {\n          culprit = `<amp-ad type=\"${match[1]}\">`;\n        }\n      }\n      console./*OK*/log(\n          `%c LONG TASK %c ${duration}ms from ${culprit}`,\n          'background: red; color: white',\n          'background: #fff; color: #000'\n      );\n    }\n  });\n  observer.observe({entryTypes: ['longtask']});\n}\n\nfunction isLongTaskApiSupported(win) {\n  return !!win.PerformanceObserver\n      && !!win.TaskAttributionTiming\n      && ('containerName' in win.TaskAttributionTiming.prototype);\n}\n"]}