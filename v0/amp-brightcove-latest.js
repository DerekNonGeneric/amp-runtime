(self.AMP=self.AMP||[]).push({n:"amp-brightcove",v:"123456789",f:(function(AMP){var e;function m(a,b){function f(){}f.prototype=b.prototype;a.prototype=new f;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var g=Object.getOwnPropertyDescriptor(b,d);g&&Object.defineProperty(a,d,g)}else a[d]=b[d]};Date.now();self.log=self.log||{user:null,dev:null};var n=self.log;function p(a){var b,f,d=b||function(a){return a},g=a.dataset;a=Object.create(null);var k=f?f:/^param(.+)/,c;for(c in g){var h=c.match(k);if(h){var l=h[1][0].toLowerCase()+h[1].substr(1);a[d(l)]=g[c]}}return a};function q(a){AMP.BaseElement.call(this,a);this.a=null}m(q,AMP.BaseElement);e=q.prototype;e.preconnectCallback=function(){this.preconnect.url("https://players.brightcove.net")};e.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a};e.buildCallback=function(){this.a=null};
e.layoutCallback=function(){var a=this.element.ownerDocument.createElement("iframe");a.setAttribute("frameborder","0");a.setAttribute("allowfullscreen","true");a.src=r(this);this.applyFillContent(a);this.element.appendChild(a);this.a=a;return this.loadPromise(a)};
function r(a){var b;if(n.user)b=n.user;else throw Error("failed to call initLogConstructor");var f=b.assert(a.element.getAttribute("data-account"),"The data-account attribute is required for <amp-brightcove> %s",a.element),d=a.element.getAttribute("data-player")||a.element.getAttribute("data-player-id")||"default",g=a.element.getAttribute("data-embed")||"default";b="https://players.brightcove.net/"+encodeURIComponent(f)+("/"+encodeURIComponent(d))+("_"+encodeURIComponent(g)+"/index.html");a.element.getAttribute("data-playlist-id")?
b=b+"?playlistId="+t(a.element.getAttribute("data-playlist-id")):a.element.getAttribute("data-video-id")&&(b=b+"?videoId="+t(a.element.getAttribute("data-video-id")));a=p(a.element);var k=[],c;for(c in a){var h=a[c];if(null!=h)if(Array.isArray(h))for(var l=0;l<h.length;l++){var u=h[l];k.push(encodeURIComponent(c)+"="+encodeURIComponent(u))}else k.push(encodeURIComponent(c)+"="+encodeURIComponent(h))}if(c=k.join("&"))a=b.split("#",2),b=a[0].split("?",2),c=b[0]+(b[1]?"?"+b[1]+"&"+c:"?"+c),b=c+=a[1]?
"#"+a[1]:"";return b}e.mutatedAttributesCallback=function(a){var b=a["data-player"]||a["data-player-id"],f=a["data-embed"],d=a["data-playlist-id"],g=a["data-video-id"];void 0===a["data-account"]&&void 0===b&&void 0===d&&void 0===f&&void 0===g||!this.a||(this.a.src=r(this))};function t(a){return"ref:"===a.substring(0,4)?"ref:"+encodeURIComponent(a.substring(4)):encodeURIComponent(a)}e.pauseCallback=function(){this.a&&this.a.contentWindow&&this.a.contentWindow.postMessage("pause","https://players.brightcove.net")};
e.unlayoutOnPause=function(){return!0};e.unlayoutCallback=function(){if(this.a){var a=this.a;a.parentElement&&a.parentElement.removeChild(a);this.a=null}return!0};AMP.registerElement("amp-brightcove",q);
})});
//# sourceMappingURL=amp-brightcove-0.1.js.map

