(self.AMP=self.AMP||[]).push({n:"amp-imgur",v:"123456789",f:(function(AMP){function e(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var f in b)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,f);d&&Object.defineProperty(a,f,d)}else a[f]=b[f]}function g(a){return 1>a.length?!1:0==a.lastIndexOf("{",0)};var h=Object.prototype.toString;Date.now();self.log=self.log||{user:null,dev:null};var n=self.log;function p(a){var b;try{return JSON.parse(a)}catch(c){b&&b(c)}};function q(a,b){function c(a){try{return k(a)}catch(l){throw self.reportError(l),l;}}var f=void 0,d=a,k=b,m=f||!1;d.addEventListener("message",c,m);return function(){d&&d.removeEventListener("message",c,m);c=d=k=null}};function r(a){AMP.BaseElement.call(this,a);this.b=this.a=null;this.c=""}e(r,AMP.BaseElement);r.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a};r.prototype.buildCallback=function(){var a;if(n.user)a=n.user;else throw Error("failed to call initLogConstructor");this.c=a.assert(this.element.getAttribute("data-imgur-id"),"The data-imgur-id attribute is required for <amp-imgur> %s",this.element)};
r.prototype.layoutCallback=function(){var a=this.element.ownerDocument.createElement("iframe");this.a=a;var b=this.f.bind(this);this.b=q(this.win,b);a.setAttribute("scrolling","no");a.setAttribute("frameborder","0");a.setAttribute("allowfullscreen","true");a.src="https://imgur.com/a/"+encodeURIComponent(this.c)+"/embed?pub=true";this.applyFillContent(a);this.element.appendChild(a);return this.loadPromise(a)};
r.prototype.f=function(a){"https://imgur.com"==a.origin&&a.source==this.a.contentWindow&&a.data&&"[object Object]"===h.call(a.data)&&!g(a.data)&&(a="[object Object]"===h.call(a.data)?a.data:p(a.data),"resize_imgur"==a.message&&this.attemptChangeHeight(a.height).catch(function(){}))};r.prototype.unlayoutCallback=function(){if(this.a){var a=this.a;a.parentElement&&a.parentElement.removeChild(a);this.a=null}this.b&&this.b();return!0};AMP.registerElement("amp-imgur",r);
})});
//# sourceMappingURL=amp-imgur-0.1.js.map

