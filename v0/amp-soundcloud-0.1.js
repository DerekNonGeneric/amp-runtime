(self.AMP=self.AMP||[]).push({n:"amp-soundcloud",v:"123456789",f:(function(AMP){function e(a,c){function f(){}f.prototype=c.prototype;a.prototype=new f;a.prototype.constructor=a;for(var b in c)if(Object.defineProperties){var g=Object.getOwnPropertyDescriptor(c,b);g&&Object.defineProperty(a,b,g)}else a[b]=c[b]};Date.now();self.log=self.log||{user:null,dev:null};var h=self.log;function l(){var a={method:"pause"},c=Object.create(null);a&&Object.assign(c,a);return c};function m(a){AMP.BaseElement.call(this,a);this.a=null}e(m,AMP.BaseElement);m.prototype.preconnectCallback=function(a){this.preconnect.url("https://api.soundcloud.com/",a)};m.prototype.isLayoutSupported=function(a){return"fixed-height"==a};
m.prototype.layoutCallback=function(){var a=this.element.getAttribute("height"),c=this.element.getAttribute("data-color"),f=this.element.getAttribute("data-visual"),b;if(h.user)b=h.user;else throw Error("failed to call initLogConstructor");var g=b.assert(this.element.getAttribute("data-trackid"),"The data-trackid attribute is required for <amp-soundcloud> %s",this.element),k=this.element.getAttribute("data-secret-token"),d=this.element.ownerDocument.createElement("iframe");d.setAttribute("frameborder",
"no");d.setAttribute("scrolling","no");b="https://w.soundcloud.com/player/?url="+encodeURIComponent("https://api.soundcloud.com/tracks/"+g);k&&(b+=encodeURIComponent("?secret_token="+k));"true"===f?b+="&visual=true":c&&(b+="&color="+encodeURIComponent(c));d.src=b;this.applyFillContent(d);d.height=a;this.element.appendChild(d);this.a=d;return this.loadPromise(d)};m.prototype.pauseCallback=function(){this.a&&this.a.contentWindow&&this.a.contentWindow.postMessage(JSON.stringify(l()),"https://w.soundcloud.com")};
AMP.registerElement("amp-soundcloud",m);
})});
//# sourceMappingURL=amp-soundcloud-0.1.js.map

