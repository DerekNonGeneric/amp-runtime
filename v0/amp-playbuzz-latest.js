(self.AMP=self.AMP||[]).push({n:"amp-playbuzz",v:"123456789",f:(function(AMP){var g;function l(a,b){function d(){}d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;for(var c in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,c);e&&Object.defineProperty(a,c,e)}else a[c]=b[c]};var m=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;Date.now();function n(a){for(var b=null,d="",c=0;c<arguments.length;c++){var e=arguments[c];if(e instanceof Error&&!b){var b=e,e=b.message,f=String(Math.random());b.message=f;if(b.message===f)b.message=e;else{e=Error(b.message);f=void 0;for(f in b)e[f]=b[f];e.stack=b.stack;b=e}}else d&&(d+=" "),d+=e}b?d&&(b.message=d+": "+b.message):b=Error(d);return b}function p(a){var b=n.apply(null,arguments);setTimeout(function(){self.reportError(b);throw b;})}self.log=self.log||{user:null,dev:null};var q=self.log;
function r(){if(q.user)return q.user;throw Error("failed to call initLogConstructor");};var t,u;
function v(a){var b;t||(t=self.document.createElement("a"),u=self.UrlCache||(self.UrlCache=Object.create(null)));var d=u[a];if(d)return d;var c=t;c.href=a;c.protocol||(c.href=c.href);var e={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=e.hostname;e.origin=c.origin&&
"null"!=c.origin?c.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;var f=e,h=f;return b?h:u[a]=h}function w(a){var b=a.indexOf("#");return-1==b?a:a.substring(0,b)};var x=null;Promise.resolve();
function y(a){var b;if(!x){x=Object.create(null);if(a.AMP_CONFIG)for(b in a.AMP_CONFIG){var d=a.AMP_CONFIG[b];"number"===typeof d&&0<=d&&1>=d&&(x[b]=Math.random()<d)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length&&(b=a.AMP_CONFIG["allow-doc-opt-in"],d=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]')))for(var d=d.getAttribute("content").split(","),c=0;c<d.length;c++)-1!=b.indexOf(d[c])&&(x[d[c]]=!0);Object.assign(x,z(a));
if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){b=a.AMP_CONFIG["allow-url-opt-in"];d=a.location.originalHash||a.location.hash;a=Object.create(null);if(d)for(var e;e=m.exec(d);)c=decodeURIComponent(e[1]).trim(),e=e[2]?decodeURIComponent(e[2]).trim():"",a[c]=e;for(d=0;d<b.length;d++)c=a["e-"+b[d]],"1"==c&&(x[b[d]]=!0),"0"==c&&(x[b[d]]=!1)}}b=x;var f=b;return!!f["amp-playbuzz"]}
function z(a){a:{var b;b:{try{b=a.document.cookie;break b}catch(h){}b=void 0}if(a=b)for(a=a.split(";"),b=0;b<a.length;b++){var d=a[b].trim(),c=d.indexOf("=");if(-1!=c&&"AMP_EXP"==decodeURIComponent(d.substring(0,c).trim())){a=decodeURIComponent(d.substring(c+1).trim());break a}}a=null}var e=a,f=e?e.split(/\s*,\s*/g):[];a=Object.create(null);for(b=0;b<f.length;b++)0!=f[b].length&&("-"==f[b][0]?a[f[b].substr(1)]=!1:a[f[b]]=!0);return a};function A(a){a.parentElement&&a.parentElement.removeChild(a)};function B(a,b){function d(a){try{return f(a)}catch(k){throw self.reportError(k),k;}}var c=void 0,e=a,f=b,h=c||!1;e.addEventListener("message",d,h);return function(){e&&e.removeEventListener("message",d,h);d=e=f=null}};function C(a,b){return B(a,b)};function D(a){var b,d=100,c;return function(){var e=this,f=arguments;clearTimeout(c);c=setTimeout(function(){c=null;b||a.apply(e,f)},d);b&&!c&&a.apply(e,f)}}function F(a){return function d(c,e,f){c=a.createElement(c);c.className=e;G(c,f);return c}}function G(a,b){b=b?Array.isArray(b)?b:[b]:[];b.forEach(function(b){return a.appendChild(b)})}
function H(a){if("object"===typeof a)return a;var b="error parsing json message from playbuzz item: "+a;try{if("string"===typeof a)return JSON.parse(a)}catch(d){return p("amp-playbuzz",b,d),{}}p("amp-playbuzz",b,a);return{}};function I(a){AMP.BaseElement.call(this,a);this.l=this.a=null;this.b=300;this.j=this.g=this.i=this.h=!1;this.c=[]}l(I,AMP.BaseElement);g=I.prototype;g.preconnectCallback=function(){this.preconnect.url(this.f)};g.renderOutsideViewport=function(){return!1};
g.buildCallback=function(){r().assert(y(this.win),"Enable amp-playbuzz experiment");var a=this.element,b=a.getAttribute("src"),d=a.getAttribute("data-item");r().assert(b||d,"Either src or data-item attribute is required for <amp-playbuzz> %s",this.element);b&&(r().assert(/^https?\:/i.test(b),'URL must start with "http://" or "https://". Invalid value: %s',b),v(b));var c=parseInt(a.getAttribute("height"),10);d?b="//www.playbuzz.com/item/"+d:(b=v(b),b=w(b.href).replace(b.protocol,""));this.f=b;this.b=
isNaN(c)?this.b:c;this.h="true"===a.getAttribute("data-item-info");this.i="true"===a.getAttribute("data-share-buttons");this.g="true"===a.getAttribute("data-comments")};g.isLayoutSupported=function(a){return"responsive"===a||"fixed-height"===a};g.createPlaceholderCallback=function(){var a=this.win.document.createElement("div");a.setAttribute("placeholder","");a.appendChild(J(this));return a};
function K(a){a=F(a.element.ownerDocument);var b=a("div","pb-overflow");b.setAttribute("overflow","");var d=a("button");d.textContent="Show More";var c=a("img","pb-arrow-down");c.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAYAAAAMJL+VAAAAm0lEQVR4AZ3ORxXCABBF0VGBAfYooaOEXp2kxwOKwg4D9E/vLS9zzt/eN3Y7V/3DEvNUtqznqXXYzALV7elcTQ7TZatMEV+9B2N9MBqPn+tpnpbXCMWfIoFKx0BymH5GOH7d1E6Iq9XfCMfnFqlgh+MRhJvxCMZJhOMosuH4l8hhy3eE4zzCcR7hOI9wHEYoDiIA5xcqb7FyBm4P6hrNHZK+MqYAAAAASUVORK5CYII=";d.appendChild(c);
b.appendChild(d);return b}
g.layoutCallback=function(){var a=this.element.ownerDocument.createElement("iframe");this.a=a;a.setAttribute("scrolling","no");a.setAttribute("frameborder","0");a.setAttribute("allowtransparency","true");a.setAttribute("allowfullscreen","true");a.src=L(this);M(this,D(this.m.bind(this)));this.element.appendChild(K(this));this.applyFillContent(a);this.element.appendChild(a);return this.l=this.loadPromise(a).then(function(){this.j=!0;this.attemptChangeHeight(this.b).catch(function(){});var a=this.getViewport().onChanged(this.o.bind(this));
this.c.push(a)}.bind(this))};
function J(a){a=F(a.element.ownerDocument);var b=a("img","pb_feed_anim_mask");b.src="data:image/png;base64,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";var d=
a("div","pb_feed_placeholder_container",a("div","pb_feed_placeholder_inner",a("div","pb_feed_placeholder_content",a("div","pb_feed_placeholder_preloader",b))));return d}g.m=function(a){isNaN(a)||a===this.b||(this.b=a,this.j&&this.attemptChangeHeight(this.b).catch(function(){}))};function M(a,b){var d=C(a.win,function(c){a.a.contentWindow===c.source&&(c=H(c.data),c.resize_height&&b(c.resize_height))});a.c.push(d)}
function L(a){var b=a.win.location,d=a.f,c=v(a.f).pathname,e=a.h,f=a.i,h=a.g,E=w(b.href);a=d+"?";var k,d={feed:!0,implementation:"amp",src:d,embedBy:"00000000-0000-0000-0000-000000000000",game:c,comments:void 0,useComments:h,gameInfo:e,useShares:f,socialReferrer:!1,height:"auto",parentUrl:E,parentHost:b.hostname},c=[];for(k in d)if(e=d[k],null!=e)if(Array.isArray(e))for(f=0;f<e.length;f++)h=e[f],c.push(encodeURIComponent(k)+"="+encodeURIComponent(h));else c.push(encodeURIComponent(k)+"="+encodeURIComponent(e));
k=c.join("&");return a+k}g.o=function(a){if(this.isInViewport()){var b={event:"scroll",windowHeight:a.height,scroll:a.top,offsetTop:this.getLayoutBox().top},d=JSON.stringify(b),c=this.a,e=[{win:c.contentWindow,origin:"*"}];if(c.contentWindow)for(d.type="onMessage",d.sentinel="amp",c=0;c<e.length;c++){var f=e[c];f.win.postMessage(d,f.origin)}}};g.unlayoutOnPause=function(){return!0};
g.unlayoutCallback=function(){this.c.forEach(function(a){return a()});this.c.length=0;this.a&&(A(this.a),this.l=this.a=null);return!0};AMP.registerElement("amp-playbuzz",I,".pb-overflow{width:100%;height:150px;position:absolute;bottom:0px;text-align:center;background:-webkit-linear-gradient(top,hsla(0,0%,100%,0) 0%,#fff 75%);background:linear-gradient(to bottom,hsla(0,0%,100%,0) 0%,#fff 75%)}.pb-overflow button{width:140px;height:37px;position:absolute;bottom:0px;left:50%;margin-left:-70px;border-radius:4px;background-color:#fff;border:1px solid #009cff;color:#009cff;font-weight:700;font-family:Helvetica,Roboto,Arial,sans-serif}.pb-arrow-down{height:8px;margin-left:10px}.pb_feed_placeholder_container{width:100%;height:100%}.pb_feed_placeholder_container{direction:ltr}.pb_feed_placeholder_inner{position:relative;width:100%;height:100%;margin:auto}.pb_feed_placeholder_content{width:100%;height:100%;background-color:#f2f2f2;border-radius:5px}.pb_feed_placeholder_preloader{position:absolute;top:47%;left:50%;width:29px;height:38px;margin-top:-36px;margin-left:-15px;overflow:hidden;box-sizing:border-box}@media screen and (max-width:568px){.pb_feed_placeholder_preloader{top:46%}}@media screen and (min-width:569px) and (max-width:992px){.pb_feed_placeholder_preloader{top:48%}}.pb_feed_anim_mask{position:absolute;width:30px;top:0;left:0}.pb_feed_loading_text{position:absolute;font-family:arial;font-size:11px;color:#aaa;text-align:center;width:100%;top:51%;direction:ltr}\n/*# sourceURL=/extensions/amp-playbuzz/0.1/amp-playbuzz.css*/");
})});
//# sourceMappingURL=amp-playbuzz-0.1.js.map

