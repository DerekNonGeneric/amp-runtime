(self.AMP=self.AMP||[]).push({n:"amp-fx-flying-carpet",v:"123456789",f:(function(AMP){var f;function k(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]};Date.now();self.log=self.log||{user:null,dev:null};var l=self.log;function m(){if(l.user)return l.user;throw Error("failed to call initLogConstructor");};var n,p="Webkit webkit Moz moz ms O o".split(" ");function t(a,b){function c(a){try{return g(a)}catch(r){throw self.reportError(r),r;}}var d=void 0,e=a,g=b,h=d||!1;e.addEventListener("amp:built",c,h)};function u(a){AMP.BaseElement.call(this,a);this.a=[];this.b=0;this.c=null}k(u,AMP.BaseElement);f=u.prototype;f.isLayoutSupported=function(a){return"fixed-height"==a};
f.buildCallback=function(){var a=this,b=this.element.ownerDocument,c=b.createElement("div");this.a=this.getRealChildren();this.c=c;var d=this.getRealChildNodes();this.b=v(d).length;this.a.forEach(function(b){return a.setAsOwner(b)});var e=b.createElement("div");e.setAttribute("class","i-amphtml-fx-flying-carpet-clip");c.setAttribute("class","i-amphtml-fx-flying-carpet-container");d.forEach(function(a){return c.appendChild(a)});e.appendChild(c);this.element.appendChild(e);this.getViewport().addToFixedLayer(c)};
f.onLayoutMeasure=function(){var a=this,b=this.getLayoutWidth();this.getVsync().mutate(function(){var c=a.c,d;d=c.style;n||(n=Object.create(null));var e=n.width;if(!e){e="width";if(void 0===d.width){var g="W"+"width".slice(1);b:{for(var h=0;h<p.length;h++){var q=p[h]+g;if(void 0!==d[q]){g=q;break b}}g=""}void 0!==d[g]&&(e=g)}n.width=e}d=e;d&&(c.style[d]=b+"px")})};f.viewportCallback=function(a){this.updateInViewport(this.a,a)};
f.layoutCallback=function(){try{var a=this.element.getLayoutBox(),b=this.getViewport(),c=b.getHeight(),d=b.getScrollHeight(),b=.75*c,c=d-.95*c;m().assert(a.top>=b,"<amp-fx-flying-carpet> elements must be positioned after the 75% of first viewport: %s Current position: %s. Min: %s",this.element,a.top,b);m().assert(a.top<=c,"<amp-fx-flying-carpet> elements must be positioned before the last viewport: %s Current position: %s. Max: %s",this.element,a.top,c)}catch(e){throw this.collapse(),e;}this.scheduleLayout(this.a);
a=this.f.bind(this);t(this.element,a);return Promise.resolve()};f.f=function(a){a=a.target;a.getOwner()===this.element&&this.scheduleLayout(a)};f.collapsedCallback=function(a){a=this.a.indexOf(a);if(-1<a&&(this.a.splice(a,1),this.b--,0==this.b))return this.attemptCollapse().catch(function(){})};function v(a){return a.filter(function(a){return 1===a.nodeType?!0:3===a.nodeType?/\S/.test(a.textContent):!1})}AMP.registerElement("amp-fx-flying-carpet",u,"amp-fx-flying-carpet{position:relative!important;box-sizing:border-box!important}amp-fx-flying-carpet>.i-amphtml-fx-flying-carpet-clip{position:absolute!important;top:0!important;left:0!important;width:100%!important;height:100%!important;border:0!important;margin:0!important;padding:0!important;clip:rect(0,auto,auto,0)!important;-webkit-clip-path:polygon(0px 0px,100% 0px,100% 100%,0px 100%)!important;clip-path:polygon(0px 0px,100% 0px,100% 100%,0px 100%)!important}amp-fx-flying-carpet>.i-amphtml-fx-flying-carpet-clip>.i-amphtml-fx-flying-carpet-container{position:fixed!important;top:0!important;width:100%;height:100%;-webkit-transform:translateZ(0)!important;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.i-amphtml-fx-flying-carpet-container>.i-amphtml-layout-fixed-height,.i-amphtml-fx-flying-carpet-container>.i-amphtml-layout-responsive{-webkit-align-self:stretch;-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}\n/*# sourceURL=/extensions/amp-fx-flying-carpet/0.1/amp-fx-flying-carpet.css*/");
})});
//# sourceMappingURL=amp-fx-flying-carpet-0.1.js.map

